(this["webpackJsonpinventory-ui-v2"]=this["webpackJsonpinventory-ui-v2"]||[]).push([[0],{20:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),r=n(19),i=n(5),u=n(4),s=n(2),o=n.n(s),j=n(18),b=n.n(j),p=n(7),d=n.n(p),h=(n(44),n(0));function f(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1];function o(){return(o=Object(i.a)(c.a.mark((function e(t,i,u,s){var o,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,i,u,s);case 2:o=e.sent,j={_id:o,buy:t,fav:i,qty:u,name:s},a([].concat(Object(r.a)(n),[j]));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){var c={_id:e._id,buy:t,fav:e.fav,qty:e.qty,name:e.name},r=n.map((function(t){return t._id===e._id?c:t}));a(r),_(c)}function b(e,t){var c={_id:e._id,buy:e.buy,fav:t,qty:e.qty,name:e.name},r=n.map((function(t){return t._id===e._id?c:t}));a(r),_(c)}function p(e,t){var c={_id:e._id,buy:e.buy,fav:e.fav,qty:t,name:e.name},r=n.map((function(t){return t._id===e._id?c:t}));a(r),_(c)}function d(e,t){var c={_id:e._id,buy:e.buy,fav:e.fav,qty:e.qty,name:t},r=n.map((function(t){return t._id===e._id?c:t}));a(r),_(c)}function f(e){var t=n.filter((function(t){return t._id!==e}));a(t),function(e){q.apply(this,arguments)}(e)}return Object(s.useEffect)((function(){!function(e){g.apply(this,arguments)}(a)}),[]),Object(s.useEffect)((function(){console.log("second useEffect runs whenever the dataArray changes"),console.log(n)}),[n]),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(x,{}),Object(h.jsx)(l,{}),Object(h.jsx)(v,{addNewRow:function(e,t,n,a){return o.apply(this,arguments)},className:"InputForm"}),n.map((function(e){return Object(h.jsx)(m,{oneRow:e,remove:f,updateFav:b,updateBuy:j,updateQty:p,updateName:d},e._id)})),Object(h.jsx)(y,{})]})})}function l(){return Object(h.jsxs)("div",{className:"column-names-container",children:[Object(h.jsx)("div",{children:"Buy"}),Object(h.jsx)("div",{children:"Fav"}),Object(h.jsx)("div",{children:"Qty"}),Object(h.jsx)("div",{children:"Item Name"})]})}function v(e){var t=e.addNewRow,n=O(""),a=Object(u.a)(n,3),c=a[0],r=a[1],i=a[2],j=O("1"),b=Object(u.a)(j,3),p=b[0],d=b[1],f=b[2],l=Object(s.useState)(!1),v=Object(u.a)(l,2),m=v[0],x=v[1],y=Object(s.useState)(!1),g=Object(u.a)(y,2),w=g[0],k=g[1];var _=o.a.createRef();return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(m,w,p,c),i(),f(),x(!1),k(!1),_.current.focus()},children:Object(h.jsxs)("div",{className:"grid-container",children:[Object(h.jsx)("div",{children:Object(h.jsx)("input",{name:"buy",type:"checkbox",onChange:function(){x(!m)},checked:!!m})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{name:"fav",type:"checkbox",onChange:function(){k(!w)},checked:!!w})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{className:"qty",name:"qty",type:"text",value:p,placeholder:"Qty",onChange:d})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{className:"item-name",name:"itemName",type:"text",value:c,placeholder:"New Item",onChange:r,autoFocus:!0,ref:_})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"form-button",name:"addButton",type:"submit",children:"Add"})})]})})})}function m(e){var t=e.oneRow,n=e.remove,a=e.updateBuy,c=e.updateFav,r=e.updateQty,i=e.updateName,o=Object(s.useState)(t.buy),j=Object(u.a)(o,2),b=j[0],p=j[1],d=Object(s.useState)(t.fav),f=Object(u.a)(d,2),l=f[0],v=f[1],m=O(t.qty),x=Object(u.a)(m,2),y=x[0],g=x[1],w=O(t.name),k=Object(u.a)(w,2),_=k[0],N=k[1];return Object(h.jsxs)("div",{className:"grid-container",children:[Object(h.jsx)("div",{children:Object(h.jsx)("input",{name:"cb-buy",type:"checkbox",onChange:function(){var e=!b;p(e),a(t,e)},checked:!!b})}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{name:"cb-fav",type:"checkbox",onChange:function(){var e=!l;v(e),c(t,e)},checked:!!l})}),Object(h.jsx)("div",{children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),r(t,y)},children:Object(h.jsx)("input",{className:"qty",name:"qty",type:"text",value:y,onChange:g})})}),Object(h.jsx)("div",{children:Object(h.jsx)("form",{onSubmit:function(e){e.preventDefault(),i(t,_)},children:Object(h.jsx)("input",{className:"item-name",name:"name",type:"text",value:_,onChange:N})})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"form-button",name:"delete",onClick:function(){return n(t._id)},children:"Delete"})})]})}function O(e){var t=Object(s.useState)(e),n=Object(u.a)(t,2),a=n[0],c=n[1];return[a,function(e){return c(e.target.value)},function(){return c(e)}]}function x(){return Object(h.jsxs)("div",{className:"navbar",children:[Object(h.jsx)("a",{href:"#home",className:"active",children:"Inventory v2"}),Object(h.jsx)("a",{href:"#print",children:"Print"}),Object(h.jsx)("a",{href:"#sort",children:"Sort"}),Object(h.jsx)("a",{href:"#about",children:"About"})]})}function y(){return Object(h.jsxs)("footer",{children:[Object(h.jsx)("h3",{id:"about",children:"About"}),"Inventory user interface v2 by John Phillips on April 2, 2021.",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Source"," ",Object(h.jsx)("a",{href:"https://github.com/profphillips/inventory-ui-v2",children:"https://github.com/profphillips/inventory-ui-v2"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})," Live page"," ",Object(h.jsx)("a",{href:"https://profphillips.github.io/inventory-ui-v2/",children:"https://profphillips.github.io/inventory-ui-v2/"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"This program uses an api hosted at Heroku. The api uses a Mongodb Atlas cloud database to store the data.",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Source"," ",Object(h.jsx)("a",{href:"https://github.com/profphillips/inventory-api-v2",children:"https://github.com/profphillips/inventory-api-v2"})]})}function g(){return(g=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://inventory-api-v2.herokuapp.com/items").then((function(e){t(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n,a){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(c.a.mark((function e(t,n,a,r){var i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://inventory-api-v2.herokuapp.com/items",i={buy:t,fav:n,qty:a,name:r},e.next=4,d.a.post("https://inventory-api-v2.herokuapp.com/items",i);case 4:return u=e.sent,console.log("db add new row res.data=".concat(u.data)),e.abrupt("return",u.data);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://inventory-api-v2.herokuapp.com/items/"+t._id,a={buy:t.buy,fav:t.fav,qty:t.qty,name:t.name},e.next=4,d.a.put(n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://inventory-api-v2.herokuapp.com/items/"+t,e.next=3,d.a.delete(n);case 3:return a=e.sent,console.log("db remove=".concat(a.data.deletedCount)),e.abrupt("return",a.data.deletedCount);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root"))},44:function(e,t,n){}},[[20,1,2]]]);
//# sourceMappingURL=main.61c61c0a.chunk.js.map